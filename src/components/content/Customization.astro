---
import { Image } from 'astro:assets';
import Section from "../ui/Section.astro";
import StarTrekText from "../ui/StarTrekText.astro";
import imageScheme from '../../assets/img/customization/scheme.svg?raw';

const { backgroundImage, mainImage } = Astro.props;

---
<Section backgroundImage={backgroundImage} class="section">
	<div class="layout">
		<div style="color: var(--color-product)" class="scheme">
			<Fragment set:html={imageScheme} />
		</div>
		<div>
			<header>
				<StarTrekText as="h2" class="h1 title">Кастомизация</StarTrekText>
			</header>
			<Image
				width="1378"
				height="1080"
				src={mainImage}
				alt=""
				loading="lazy"
				class="bg-img"
			/>
			<blockquote class="blockquote">
				<p>Возможность создания уникальной пары кроссовок с&nbsp;индивидуальным цветовым решением и&nbsp;материалом</p>
				<p>Неповторимые кроссовоки, отражают личность<br> владельца, легко адаптируется под&nbsp;стиль одежды</p>
				<p>Твои идеи для&nbsp;твоей индивидуальности через выбор цвета и&nbsp;материала обуви</p>
			</blockquote>
		</div>
	</div>
</Section>

<style lang="scss">
	.section {
		// padding: calc(var(--adaptive-pixel) * 65);
	}
	.layout {
		display: flex;
		gap: calc(var(--adaptive-pixel) * 180);
	}
	.title {
		// margin-top: 0;
	}
	.blockquote {
		max-width: calc(var(--adaptive-pixel) * 730);
	}
	.bg-img {
		position: absolute;
		top: var(--size-120);
		left: 47%;
		width: auto;
		height: calc(var(--section-height) - var(--size-120));
		max-height: 100%;
		z-index: -1;
	}
	.scheme {
		width: calc(var(--adaptive-pixel) * 203);
		margin-top: var(--size-120);
	}
	
	@media screen and (max-width: 1023px) {
		.layout {
			gap: 0;
			flex-direction: column-reverse;
		}
		.title {
			margin-top: var(--size-60);
		}
		.bg-img {
			height: auto;
			z-index: -1;
			position: relative;
			margin-top: calc(var(--size-120) * -1);
			top: auto;
			right: calc(var(--size-15) * -1);
			left: auto;
			width: 130%;
			max-height: none;
			max-width: max-content;
		}
		.scheme {
			float: none;
			margin: var(--size-15) auto 0;
			max-width: var(--size-120);
			& :global(svg) {
				width: 100%;
			}
		}
	}
</style>