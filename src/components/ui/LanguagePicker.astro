---
import { languages } from '../../i18n/ui';
import { getLangFromUrl, useTranslatedPath, useTranslations } from '../../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const translatePath = useTranslatedPath(lang);
const t = useTranslations(lang);
---

<ul class="lang-picker">
  {Object.entries(languages).map(([language, label]) => (
    <li class="lang-picker__item" hidden={lang == language}>
      <a class="lang-picker__link" href={translatePath('/', language)}>{label}</a>
    </li>
  ))}
</ul>

<style scoped>
    .lang-picker {
        padding: 0;
        margin: 0 var(--15px);
        display: flex;
    }
    .lang-picker__item {
        list-style-type: none;
        padding: 0;
        margin: 0;
    }
    .lang-picker__link {
        color: var(--text-color);
        text-decoration: none;
        padding: 0 var(--4px);
    }
</style>